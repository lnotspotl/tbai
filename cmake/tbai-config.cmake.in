@PACKAGE_INIT@

include(CMakeFindDependencyMacro)

# Core dependencies
find_dependency(Eigen3 REQUIRED NO_MODULE) # NO_MODULE is important here
find_dependency(yaml-cpp REQUIRED)
find_dependency(fmt REQUIRED)
find_dependency(spdlog REQUIRED)
find_dependency(pinocchio REQUIRED)

# OCS2 dependencies
if(EXISTS "${CMAKE_CURRENT_LIST_DIR}/tbai-ocs2-targets.cmake")
    find_dependency(Boost REQUIRED COMPONENTS system filesystem log_setup log)
    find_dependency(Threads REQUIRED)
    find_dependency(OpenMP REQUIRED)
    set(CMAKE_THREAD_PREFER_PTHREAD TRUE)
    set(THREADS_PREFER_PTHREAD_FLAG TRUE)
endif()

# Torch dependencies
#  CMake Error at $HOME/Documents/ros/devel/.private/cgal5_catkin/lib/cmake/CGAL/CGAL_Macros.cmake:4 (include):
#  include could not find requested file:
#
#    /CGAL_VersionUtils.cmake

# Load OCS2 thirdparty targets first (cppad, cppadcg) since other OCS2 targets depend on them
if(EXISTS "${CMAKE_CURRENT_LIST_DIR}/tbai-ocs2-thirdparty-targets.cmake")
    include("${CMAKE_CURRENT_LIST_DIR}/tbai-ocs2-thirdparty-targets.cmake")
endif()

# Get list of target files
file(GLOB target_files "${CMAKE_CURRENT_LIST_DIR}/*-targets.cmake")

# Include each target file
foreach(target_file ${target_files})
    include("${target_file}")
endforeach()

set(tbai_FOUND TRUE)
set(tbai_VERSION @tbai_VERSION@)

message(STATUS "Found tbai: ${CMAKE_CURRENT_LIST_DIR} (found version: \"${tbai_VERSION}\")")